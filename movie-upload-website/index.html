<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Movie Upload â€” Client-only</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>Movie Upload (Client-only) ðŸŽ¬</h1>
    <p class="note">No server required â€” videos stay in your browser. Play HD videos. Supports common codecs (MP4/H.264, WebM, Ogg) and HLS (.m3u8) via <code>hls.js</code> where needed.</p>
  </header>

  <main>
    <div class="uploader">
      <div id="owner-banner" class="owner-banner">
        <div class="mode">Mode: <strong id="mode-indicator">Guest</strong></div>
        <div class="owner-actions">
          <button id="set-owner-pass">Set Owner Password</button>
          <button id="enter-owner">Enter Owner Mode</button>
          <button id="sign-out-owner" hidden>Sign out</button>
          <button id="open-diagnostics">Diagnostics</button>
        </div>
      </div>

      <div id="owner-controls" class="owner-controls">
        <div id="drop-zone" class="drop-zone">
          <p>Drag & drop videos here, or <button id="pick-files">choose files</button></p>
          <input id="file-input" type="file" accept="video/*" multiple hidden />
        </div>

        <div class="controls">
          <button id="clear-storage">Clear saved videos</button>
          <div class="url-add">
            <input id="url-input" placeholder="Add video by URL (owner only) â€” press Enter to add" />
            <button id="add-url">Add</button>
          </div>
        </div>
        <div class="options">
          <label><input id="auto-transcode" type="checkbox" /> Auto-transcode on upload (owner only)</label>
        </div>
      </div>
    </div>

    <section id="gallery" class="gallery" aria-live="polite"></section>
  </main>

  <footer>
    <small>Built to run in-browser only. Persisted with IndexedDB where available.</small>
  </footer>

  <!-- HLS support for .m3u8 playback where native HLS isn't available (Chrome, Firefox) -->
  <script src="https://cdn.jsdelivr.net/npm/hls.js@^1"></script>
  <!-- FFmpeg.wasm for client-side transcoding (optional, heavy) -->
  <script src="https://unpkg.com/@ffmpeg/ffmpeg@0.11.9/dist/ffmpeg.min.js"></script>
  <script src="script.js"></script>
</body>
</html>